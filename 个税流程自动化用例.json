{
  "name": "个税流程自动化用例",
  "desc": "个税申报流程自动化",
  "variable": {
    "TEST_HOST": "https://test-gateway.bigfintax.com",
    "USER_NAME": "GSZDHCSJT_admin",
    "PWD": "202cb962ac59075b964b07152d234b70"},
  "case": [
{
      "name": "个税流程自动化",
      "desc": "",
      "variable": {
        "COMPANY_NAME": "代扣代缴自动化测试股份有限公司",
        "COMPANY_NUMBER": "91140188029581508S",
        "COMPANY_NO": "TEST01"
      },
      "step": [
        {
          "name": "前台-账号登录",
          "desc": "使用登录插件，通过后台账号密码登录-并将test_cas_access_token，存储至全局变量；",
          "type": "plugIn",
          "params": {
            "params": {
              "pass_word": "{{PWD}}",
              "user_name": "{{USER_NAME}}",
              "cookies_field": "COOKIES"
            },
            "type": "login"
          },
          "handlers": []
        },
        {
          "name": "六万扣除列表",
          "desc": "六万扣除列表-获取公司id",
          "type": "request",
          "params": {
            "name": "六万扣除采集-接口",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/bzlwxzNew/getCollectionList",
            "method": "GET",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "post_type": "json",
            "headers": null,
            "data": {"page":1,"per_page":10,"condition":"[{\"f\":\"sdnf\",\"v\":\"2023\",\"op\":\"eq\",\"t\":\"s\"}]"}},
          "handlers": [
            {
              "type": "extract",
              "params": {
                "type": "json",
                "field": "YWR_ID",
                "path": "data.0.baseid",
                "condition": [
                  {
                    "orgname": "{{COMPANY_NAME}}"
                  }
                ]
              }
            },
            {
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            }
          ]

        },
        {
          "name": "六万扣除采集",
          "desc": "代扣代缴自动化测试股份有限公司-六万扣除采集",
          "type": "request",
          "params": {
            "name": "六万扣除采集-接口",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/bzlwxz/collection",
            "method": "POST",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "post_type": "json",
            "headers": null,
            "data": {"baseIds":"{{YWR_ID}}","sdnf":2023}},
          "handlers": [{
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            }],"sleep": 15
        },
        {
          "name": "六万扣除-税局确认",
          "desc": "代扣代缴自动化测试股份有限公司-六万扣除-税局确认",
          "type": "request",
          "params": {
            "name": "六万扣除确认-接口",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/bzlwxz/confirm",
            "method": "POST",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "post_type": "json",
            "headers": null,
            "data": {"baseIds":"{{YWR_ID}}","sdnf":2023}},
          "handlers": [{
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            }]
        },
        {
          "name": "六万扣除-平台确认",
          "desc": "代扣代缴自动化测试股份有限公司-六万扣除-平台确认",
          "type": "request",
          "params": {
            "name": "六万扣除平台确认-接口",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/bzlwxz/confirm",
            "method": "POST",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "post_type": "json",
            "headers": null,
            "data": {"baseIds":"{{YWR_ID}}","sdnf":"2023"}},
          "handlers": [{
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            }]
        },
        {
          "name": "养老金获取",
          "desc": "代扣代缴自动化测试股份有限公司-养老金获取",
          "type": "request",
          "params": {
            "name": "养老金获取-接口",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/ylj/retryYljHq?id={{YWR_ID}}",
            "method": "POST",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "post_type": "json",
            "headers": null,
            "data": {}},
          "handlers": [{
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            }],
          "sleep": 5
        },
        {
          "name": "专扣获取",
          "desc": "代扣代缴自动化测试股份有限公司-专扣获取",
          "type": "request",
          "params": {
            "name": "专扣获取-接口",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/zxkcfj/getZxfjkcList",
            "method": "GET",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "post_type": "json",
            "headers": null,
            "data": {"ids":"{{YWR_ID}}","sdyf":"202305"}},
          "handlers": [{
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            }],"sleep": 5
        },
        {
          "name": "个税计算-获取report_id",
          "desc": "代扣代缴自动化测试股份有限公司-个税计算-获取report_id",
          "type": "request",
          "params": {
            "name": "个税计算-获取report_id",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/personalReport/queryPtReportList",
            "method": "GET",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "post_type": "json",
            "headers": null,
            "data": {"page":1,"per_page":10,"condition":"[{\"f\":\"sdyf\",\"v\":\"202305\",\"op\":\"eq\",\"t\":\"s\"}]"}},
          "handlers": [
            {
              "type": "extract",
              "params": {
                "type": "json",
                "field": "REPORT_ID",
                "path": "data.0.id",
                "condition": [
                  {
                    "gsmc": "{{COMPANY_NO}}/{{COMPANY_NAME}}",
                    "reportType": "1"
                  }
                ]
              }
            },
            {
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            }
          ]
        },
        {
          "name": "个税计算-获取申报id",
          "desc": "代扣代缴自动化测试股份有限公司-个税计算-获取申报id",
          "type": "request",
          "params": {
            "name": "个税计算-获取申报列表-接口",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/personalDeclare/queryDeclareList",
            "method": "GET",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "post_type": "json",
            "headers": null,
            "data": {"page":1,"per_page": 10,"condition": "[{\"f\":\"sdyf\",\"v\":\"202305\",\"op\":\"eq\",\"t\":\"s\"}]"}},
          "handlers": [{
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            },{
              "type": "extract",
              "params": {
                "type": "json",
                "field": "shenbao_id",
                "path": "data.0.id",
                "condition": [
                  {
                    "gsmc": "{{COMPANY_NO}}/{{COMPANY_NAME}}"
                  }
                ]
              }
            }
          ]
        },
        {
          "name": "个税计算-更正申报",
          "desc": "代扣代缴自动化测试股份有限公司-个税计算-更正申报",
          "type": "request",
          "params": {
            "name": "个税计算-更正申报-接口",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/personalDeclare/correct",
            "method": "GET",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "post_type": "json",
            "headers": null,
            "data": {"ids":"{{shenbao_id}}"}},
          "handlers": [{
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            }],
          "sleep": 5
        },
        {
          "name": "个税计算-上传正常薪金文件",
          "desc": "个税计算-上传正常薪金文件",
          "type": "request",
          "params": {
            "name": "个税计算-上传正常薪金文件",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/personalCalc/uploadSalaryScale",
            "method": "POST",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "post_type": "upload",
            "headers": null,
            "data": {
              "params": [
                ["fxyf","202305"],
                ["sdxm", "1001"],
                ["reportId","{{REPORT_ID}}"]],
              "file_id": 1,
              "file_fields": "upload",
              "file_type": "application/vnd.ms-excel"
            }

        },
          "handlers": [
          ]
        },
{
          "name": "个税计算-查看计算状态",
          "desc": "代扣代缴自动化测试股份有限公司-个税计算-核对计算结果",
          "type": "request",
          "params": {
            "name": "个税计算-列表查询-接口",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/personalReport/queryPtReportList",
            "method": "GET",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "post_type": "json",
            "headers": null,
            "data": {"page":1,"per_page": 10,"condition": "[{\"f\":\"sdyf\",\"v\":\"202305\",\"op\":\"eq\",\"t\":\"s\"},{\"f\":\"jsZt\",\"v\":\"1\",\"op\":\"eq\",\"t\":\"s\"}]"}},
          "handlers": [{
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            },
            {
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "data.0.jsZt",
                "condition": [],
                "func": "==",
                "value_right": null
              }
            }
          ],
          "retry": {
            "interval": 15,
            "times":10,
            "jump":[
              ]
          }
        },
        {
          "name": "个税计算-上传劳务报酬所得文件",
          "desc": "个税计算-上传劳务报酬所得文件",
          "type": "request",
          "params": {
            "name": "个税计算-上传劳务报酬所得文件",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/personalCalc/uploadSalaryScale",
            "method": "POST",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "post_type": "upload",
            "headers": null,
            "data": {
              "params": [
                ["fxyf","202305"],
                ["sdxm", "1004"],
                ["reportId","{{REPORT_ID}}"]],
              "file_id": 2,
              "file_fields": "upload",
              "file_type": "application/vnd.ms-excel"
            }

        },
          "handlers": [
          ]
        },

{
          "name": "个税计算-查看计算状态",
          "desc": "代扣代缴自动化测试股份有限公司-个税计算-核对计算结果",
          "type": "request",
          "params": {
            "name": "个税计算-列表查询-接口",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/personalReport/queryPtReportList",
            "method": "GET",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "post_type": "json",
            "headers": null,
            "data": {"page":1,"per_page": 10,"condition": "[{\"f\":\"sdyf\",\"v\":\"202305\",\"op\":\"eq\",\"t\":\"s\"},{\"f\":\"jsZt\",\"v\":\"1\",\"op\":\"eq\",\"t\":\"s\"}]"}},
          "handlers": [{
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            },
            {
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "data.0.jsZt",
                "condition": [],
                "func": "==",
                "value_right": null
              }
            }
          ],
          "retry": {
            "interval": 15,
            "times":10,
            "jump":[
              ]
          }
        },
        {
          "name": "个税计算-查看计算",
          "desc": "代扣代缴自动化测试股份有限公司-个税计算-核对计算结果",
          "type": "request",
          "params": {
            "name": "个税计算-列表查询-接口",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/personalDeclare/queryDeclareList",
            "method": "GET",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "post_type": "json",
            "headers": null,
            "data": {"page":1,"per_page": 10,"condition": "[{\"f\":\"orgName\",\"v\":\"{{COMPANY_NAME}}\",\"op\":\"like\",\"t\":\"s\"},{\"f\":\"sdyf\",\"v\":\"202305\",\"op\":\"eq\",\"t\":\"s\"}]"}},
          "handlers": [{
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            },
            {
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "data.0.sbse",
                "condition": [{"gsmc": "{{COMPANY_NO}}/{{COMPANY_NAME}}","reportType": "1"}],
                "func": "==",
                "value_right": "1349.80"
              }
            }
          ]

        },
        {
          "name": "个税计算-申报表生成",
            "desc": "代扣代缴自动化测试股份有限公司-个税计算-申报表生成",
          "type": "request",
          "params": {
            "name": "个税计算-申报表生成",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/personalReport/reportGenerate",
            "method": "GET",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "post_type": "form",
            "headers": null,
            "data": {"ids":"{{REPORT_ID}}"}},
          "handlers": [{
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            }]
        },
        {
          "name": "个税计算-申报",
          "desc": "代扣代缴自动化测试股份有限公司-申报",
          "type": "request",
          "params": {
            "name": "个税计算-申报",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/personalDeclare/declare",
            "method": "GET",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "post_type": "json",
            "headers": null,
            "data": {"ids":"{{shenbao_id}}"}},
          "handlers": [{
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            }]
        },
        {
          "name": "个税计算-检验申报状态",
          "desc": "代扣代缴自动化测试股份有限公司-检验申报状态",
          "type": "request",
          "params": {
            "name": "个税计算-获取申报列表-接口",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/personalDeclare/queryDeclareList",
            "method": "GET",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "post_type": "json",
            "headers": null,
            "data": {"page":1,"per_page": 10,"condition": "[{\"f\":\"sdyf\",\"v\":\"202305\",\"op\":\"eq\",\"t\":\"s\"}]"}},
          "handlers": [{
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            },
            {
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "data.0.sbZt",
                "condition": [{"gsmc": "{{COMPANY_NO}}/{{COMPANY_NAME}}"}],
                "func": "==",
                "value_right": "2"
              }
            }
          ],
          "retry": {
            "interval": 15,
            "times":10,
            "jump":[
              {
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "data.0.sbZt",
                "condition": [{"gsmc": "{{COMPANY_NO}}/{{COMPANY_NAME}}"}],
                "func": "!=",
                "value_right": "1"
              }
            }
              ]

          }
        },
        {
          "name": "个税计算-扣款",
          "desc": "代扣代缴自动化测试股份有限公司-扣款",
          "type": "request",
          "params": {
            "name": "个税计算-扣款",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/personalDeclare/payment",
            "method": "GET",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "post_type": "json",
            "headers": null,
            "data": {"ids":"{{REPORT_ID}}"}},
          "handlers": [{
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            }
          ]
        },
        {
          "name": "个税计算-检验缴款状态",
          "desc": "代扣代缴自动化测试股份有限公司-检验缴款状态",
          "type": "request",
          "params": {
            "name": "个税计算-获取申报列表-接口",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/personalDeclare/queryDeclareList",
            "method": "GET",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "post_type": "json",
            "headers": null,
            "data": {"page":1,"per_page": 10,"condition": "[{\"f\":\"sdyf\",\"v\":\"202305\",\"op\":\"eq\",\"t\":\"s\"}]"}},
          "handlers": [{
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            },{
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "data.0.jnZt",
                "condition": [{"gsmc": "{{COMPANY_NO}}/{{COMPANY_NAME}}"}],
                "func": "==",
                "value_right": "2"
              }
            }
          ],
          "retry": {
            "interval": 15,
            "times":10,
            "jump":[
              {
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "data.0.jnZt",
                "condition": [{"gsmc": "{{COMPANY_NO}}/{{COMPANY_NAME}}"}],
                "func": "!=",
                "value_right": "1"
              }
            }
              ]

          }
        }
      ]
    },
    {
      "name": "个税申报场景自动化用例",
      "desc": "",
      "variable": {
        "COMPANY_NAME": "个税税友测试公司",
        "COMPANY_NUMBER": "91110188542620104H",
        "COMPANY_NO": "TEST03"
      },
      "step": [
        {
          "name": "前台-账号登录",
          "desc": "使用登录插件，通过后台账号密码登录-并将test_cas_access_token，存储至全局变量；",
          "type": "plugIn",
          "params": {
            "params": {
              "pass_word": "{{PWD}}",
              "user_name": "{{USER_NAME}}",
              "cookies_field": "COOKIES"
            },
            "type": "login"
          },
          "handlers": []
        },
        {
          "name": "获取申报id",
          "desc": "申报列表页面-获取申报id",
          "type": "request",
          "params": {
            "name": "申报列表查询接口",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/personalDeclare/queryDeclareList",
            "method": "GET",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "post_type": "json",
            "headers": null,
            "data": {"page":1,"per_page":10,"condition":"[{\"f\":\"orgName\",\"v\":\"{{COMPANY_NAME}}\",\"op\":\"like\",\"t\":\"s\"},{\"f\":\"sdyf\",\"v\":\"202305\",\"op\":\"eq\",\"t\":\"s\"}]"}},
          "handlers": [
            {
              "type": "extract",
              "params": {
                "type": "json",
                "field": "shenbao_id",
                "path": "data.0.id",
                "condition": [
                  {
                    "gsmc": "{{COMPANY_NO}}/{{COMPANY_NAME}}"
                  }
                ]
              }
            },
            {
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            }
          ]
        },
        {
          "name": "前置-个税计算-更正申报",
          "desc": "个税税友测试公司-个税计算-更正申报，为了申报成功缴款成功",
          "type": "request",
          "params": {
            "name": "个税计算-更正申报-接口",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/personalDeclare/correct",
            "method": "GET",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "post_type": "json",
            "headers": null,
            "data": {"ids":"{{shenbao_id}}"}},
          "handlers": [{
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            }],
          "sleep": 15
        },
        {
          "name": "前置-申报尝试",
          "desc": "确保申报已交款",
          "type": "request",
          "params": {
            "name": "个税计算-申报",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/personalDeclare/declare",
            "method": "GET",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "post_type": "json",
            "headers": null,
            "data": {"ids":"{{shenbao_id}}"}},
          "handlers": [
            {
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            }
          ]
        },
        {
          "name": "前置-个税计算-检验申报状态",
          "desc": "个税税友测试公司-检验申报状态",
          "type": "request",
          "params": {
            "name": "个税计算-获取申报列表-接口",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/personalDeclare/queryDeclareList",
            "method": "GET",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "post_type": "json",
            "headers": null,
            "data": {"page":1,"per_page": 10,"condition": "[{\"f\":\"sdyf\",\"v\":\"202305\",\"op\":\"eq\",\"t\":\"s\"}]"}},
          "retry": {
            "interval": 15,
            "times":10,
            "jump":[
              {
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "data.0.sbZt",
                "condition": [{"gsmc": "{{COMPANY_NO}}/{{COMPANY_NAME}}"}],
                "func": "!=",
                "value_right": "1"
              }
            }
              ]

          },
          "handlers": [{
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            },{
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "data.0.sbZt",
                "condition": [{"gsmc": "{{COMPANY_NO}}/{{COMPANY_NAME}}"}],
                "func": "==",
                "value_right": "2"
              }
            }
          ]
        },
        {
          "name": "数据库修改缴费状态",
          "desc": "数据库修改缴费状态",
          "type": "plugIn",
          "params": {
                            "type": "pg_db",
                            "params": {
                                "SQL": "update t_pt_declare set jn_zt = '2' where id = '{{shenbao_id}}';",
                                "host": "192.168.2.65",
                                "port": 5432,
                                "user": "user1",
                                "db_name": "persontax",
                                "password": "123456",
                                "field_list": []
                            }
                        },
          "handlers": [
          ]
    },
        {
          "name": "作废申报",
          "desc": "缴费成功后--作废申报",
          "type": "request",
          "params": {
            "name": "作废申报-接口",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/personalDeclare/cancel",
            "method": "GET",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "post_type": "json",
            "headers": null,
            "data": {"ids":"{{shenbao_id}}"}},
          "handlers": [
            {
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            },
            {
              "type": "extract",
              "params": {
                "type": "json",
                "field": "INFOS",
                "path": "infos",
                "condition": [

                ]
              }
            },
            {
              "type": "asserts",
              "params": {
                "func": "in",
                "value_left": "已经缴款成功，不能发起申报撤销任务！",
                "value_right": "{{INFOS}}"
              }
            }
          ]
        },
        {
          "name": "个税计算-更正申报",
          "desc": "个税税友测试公司-个税计算-更正申报",
          "type": "request",
          "params": {
            "name": "个税计算-更正申报-接口",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/personalDeclare/correct",
            "method": "GET",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "post_type": "json",
            "headers": null,
            "data": {"ids":"{{shenbao_id}}"}},
          "handlers": [{
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            }],
          "sleep": 5
        },
        {
          "name": "重新申报",
          "desc": "重新申报",
          "type": "request",
          "params": {
            "name": "个税计算-申报",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/personalDeclare/declare",
            "method": "GET",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "post_type": "json",
            "headers": null,
            "data": {"ids":"{{shenbao_id}}"}},
          "handlers": [
            {
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            }
          ]
        },
        {
          "name": "个税计算-检验申报状态",
          "desc": "个税税友测试公司-检验申报状态",
          "type": "request",
          "params": {
            "name": "个税计算-获取申报列表-接口",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/personalDeclare/queryDeclareList",
            "method": "GET",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "post_type": "json",
            "headers": null,
            "data": {"page":1,"per_page": 10,"condition": "[{\"f\":\"sdyf\",\"v\":\"202305\",\"op\":\"eq\",\"t\":\"s\"}]"}},
          "retry": {
            "interval": 15,
            "times":10,
            "jump":[
              {
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "data.0.sbZt",
                "condition": [{"gsmc": "{{COMPANY_NO}}/{{COMPANY_NAME}}"}],
                "func": "!=",
                "value_right": "1"
              }
            }
              ]

          },
          "handlers": [{
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            },{
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "data.0.sbZt",
                "condition": [{"gsmc": "{{COMPANY_NO}}/{{COMPANY_NAME}}"}],
                "func": "==",
                "value_right": "2"
              }
            }
          ]
        },
        {
          "name": "获取公司baseId",
          "desc": "获取公司baseId",
          "type": "request",
          "params": {
            "name": "公司管理列表-接口",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/authapi/api/v1/tenantCompany/queryPage",
            "method": "GET",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "headers": null,
            "post_type": "json",
            "data": {
              "page": 1,
              "per_page": 10,
              "sorttype": "desc",
              "condition": "[{\"f\":\"companyName/companyAbbr/creditCode/outCompanyCode\",\"v\":\"{{COMPANY_NAME}}\",\"op\":\"like\",\"t\":\"s\"},{\"f\":\"isTestCp\",\"v\":\"N\",\"op\":\"like\",\"t\":\"s\"}]"}},
            "handlers": [{
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            },
            {
              "type": "extract",
              "params": {
                "type": "json",
                "field": "YWR_ID",
                "path": "data.0.orgId",
                "condition": [
                  {
                    "companyName": "{{COMPANY_NAME}}"
                  }
                ]
              }
            }
          ]
        },
        {
          "name": "获取新增员工所用id",
          "desc": "获取新增员工所用id",
          "type": "request",
          "params": {
            "name": "公司员工列表-接口",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/permission/getBaseList",
            "method": "GET",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "headers": null,
            "post_type": "json",
            "data": {
              "page": 1,
              "per_page": 10,
              "condition": "[{\"f\":\"orgName\",\"v\":\"{{COMPANY_NAME}}\",\"op\":\"like\",\"t\":\"s\"}]",
              "id": "{{YWR_ID}}"}},
            "handlers": [{
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            },
            {
              "type": "extract",
              "params": {
                "type": "json",
                "field": "YWR_ID",
                "path": "data.0.id",
                "condition": [
                  {
                    "orgName": "{{COMPANY_NAME}}"
                  }
                ]
              }
            }
          ]
        },
        {"name": "新增员工",
          "desc": "新增员工-创造申报失败",
          "type": "request",
          "params": {
            "name": "新增员工-接口",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/personalManage/savePersonal",
            "method": "POST",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "headers": null,
            "post_type": "json",
            "data": {"zzlx":"居民身份证","zzhm":"140302199605221924","xm":"测试申报作废","gj":"中国","xb":"女","xl":"","csny":"1996-05-22","sfcj":"否","sfls":"否","sfgl":"否","cjzh":"","lszh":"","ryNsrsbh":"","bz":"","lxdh":"18811991606","dzyx":"","jzLocation":[],"lxdzSheng":"","lxdzShi":"","lxdzQx":"","lxdzJd":"","lxdz":"","lxLocation":[],"wjrlxdzSheng":"","wjrlxdzShi":"","wjrlxdzQx":"","wjrlxdzJd":"","wjrlxdzXxdz":"","hjLocation":[],"hjszdSheng":"","hjszdShi":"","hjszdQx":"","hjszdJd":"","hjszdXxdz":"","khyh":"","khyhsfmz":"","yhzh":"","nsrzt":"非正常","sfgy":"雇员","rzsgrq":"2021-07-09","lzrq":"2022-07-09","sfzdw":"是","rzndjyqk":"","gh":"","grgbze":0,"grgbbl":0,"id":"","baseId":"{{YWR_ID}}","rydq":"境内","bszt":""}
          },
          "handlers": [{
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            }
          ]},
        {
          "name": "个税计算-更正申报",
          "desc": "个税税友测试公司-个税计算-更正申报",
          "type": "request",
          "params": {
            "name": "个税计算-更正申报-接口",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/personalDeclare/correct",
            "method": "GET",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "post_type": "json",
            "headers": null,
            "data": {"ids":"{{shenbao_id}}"}},
          "handlers": [{
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            }],
          "sleep": 5
        },
        {
          "name": "重新申报",
          "desc": "重新申报",
          "type": "request",
          "params": {
            "name": "个税计算-申报",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/personalDeclare/declare",
            "method": "GET",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "post_type": "json",
            "headers": null,
            "data": {"ids":"{{shenbao_id}}"}},
          "handlers": [
            {
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            }
          ]
        },
        {
          "name": "个税计算-检验申报状态",
          "desc": "个税税友测试公司-检验申报状态",
          "type": "request",
          "params": {
            "name": "个税计算-获取申报列表-接口",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/personalDeclare/queryDeclareList",
            "method": "GET",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "post_type": "json",
            "headers": null,
            "data": {"page":1,"per_page": 10,"condition": "[{\"f\":\"sdyf\",\"v\":\"202305\",\"op\":\"eq\",\"t\":\"s\"}]"}},
          "retry": {
            "interval": 15,
            "times":10,
            "jump":[
              {
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "data.0.sbZt",
                "condition": [{"gsmc": "{{COMPANY_NO}}/{{COMPANY_NAME}}"}],
                "func": "!=",
                "value_right": "1"
              }
            }
              ]

          },
          "handlers": [{
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            },{
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "data.0.sbZt",
                "condition": [{"gsmc": "{{COMPANY_NO}}/{{COMPANY_NAME}}"}],
                "func": "==",
                "value_right": "2"
              }
            }
          ]
        },
        {
          "name": "清除数据-获取人员id",
          "desc": "清除数据-获取人员id",
          "type": "request",
          "params": {
            "name": "员工列表-接口",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/personalManage/personalList",
            "method": "GET",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "headers": null,
            "post_type": "json",
            "data": {"page": 1,"per_page": 10,"condition": "[{\"f\":\"baseId\",\"v\":{{YWR_ID}},\"op\":\"like\",\"t\":\"s\"},{\"f\":\"rydq\",\"v\":\"境内\",\"op\":\"like\",\"t\":\"s\"}]","baseId": "{{YWR_ID}}"}
          },
          "handlers": [{
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            },{
              "type": "extract",
              "params": {
                "type": "json",
                "field": "per_id",
                "path": "data.0.id",
                "condition": [
                  {
                    "xm": "测试申报作废"
                  }
                ]
              }
            }
          ]
        },
        {
          "name": "清除数据-删除员工",
          "desc": "清除数据-删除员工",
          "type": "request",
          "params": {
            "name": "删除员工-接口",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/personalManage/delPersonal",
            "method": "DELETE",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "headers": null,
            "post_type": "json",
            "data": {"ids":"{{per_id}}"}
          },
          "handlers": [
          ]
        },
        {
          "name": "重新申报",
          "desc": "重新申报",
          "type": "request",
          "params": {
            "name": "个税计算-申报",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/personalDeclare/declare",
            "method": "GET",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "post_type": "json",
            "headers": null,
            "data": {"ids":"{{shenbao_id}}"}},
          "handlers": [
            {
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            }
          ]
        },
        {
          "name": "个税计算-检验申报状态",
          "desc": "个税税友测试公司-检验申报状态",
          "type": "request",
          "params": {
            "name": "个税计算-获取申报列表-接口",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/personalDeclare/queryDeclareList",
            "method": "GET",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "post_type": "json",
            "headers": null,
            "data": {"page":1,"per_page": 10,"condition": "[{\"f\":\"sdyf\",\"v\":\"202305\",\"op\":\"eq\",\"t\":\"s\"}]"}},
          "retry": {
            "interval": 15,
            "times":10,
            "jump":[
              {
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "data.0.sbZt",
                "condition": [{"gsmc": "{{COMPANY_NO}}/{{COMPANY_NAME}}"}],
                "func": "!=",
                "value_right": "1"
              }
            }
              ]

          },
          "handlers": [{
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            },{
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "data.0.sbZt",
                "condition": [{"gsmc": "{{COMPANY_NO}}/{{COMPANY_NAME}}"}],
                "func": "==",
                "value_right": "2"
              }
            }
          ]
        }
      ]
    },
    {
      "name": "作废往期申报自动化用例",
      "desc": "",
      "variable": {
        "COMPANY_NAME": "个税税友测试公司",
        "COMPANY_NUMBER": "91110188542620104H",
        "COMPANY_NO": "TEST03"
      },
      "step": [
        {
          "name": "前台-账号登录",
          "desc": "使用登录插件，通过后台账号密码登录-并将test_cas_access_token，存储至全局变量；",
          "type": "plugIn",
          "params": {
            "params": {
              "pass_word": "{{PWD}}",
              "user_name": "{{USER_NAME}}",
              "cookies_field": "COOKIES"
            },
            "type": "login"
          },
          "handlers": []
        },
        {
          "name": "获取申报id",
          "desc": "申报列表页面-获取申报id",
          "type": "request",
          "params": {
            "name": "申报列表查询接口",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/personalDeclare/queryDeclareList",
            "method": "GET",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "post_type": "json",
            "headers": null,
            "data": {
              "page": 1,
              "per_page": 10,
              "condition": "[{\"f\":\"orgName\",\"v\":\"{{COMPANY_NAME}}\",\"op\":\"like\",\"t\":\"s\"},{\"f\":\"sdyf\",\"v\":\"202305\",\"op\":\"eq\",\"t\":\"s\"}]"
            }
          },
          "handlers": [
            {
              "type": "extract",
              "params": {
                "type": "json",
                "field": "shenbao_id",
                "path": "data.0.id",
                "condition": [
                  {
                    "gsmc": "{{COMPANY_NO}}/{{COMPANY_NAME}}"
                  }
                ]
              }
            },
            {
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            }
          ]
        },
        {
          "name": "申报尝试",
          "desc": "申报尝试，要保证申报成功",
          "type": "request",
          "params": {
            "name": "个税计算-申报",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/personalDeclare/declare",
            "method": "GET",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "post_type": "json",
            "headers": null,
            "data": {
              "ids": "{{shenbao_id}}"
            }
          },
          "handlers": [
            {
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            }
          ]
        },
        {
          "name": "个税计算-检验申报状态",
          "desc": "个税税友测试公司-检验申报状态",
          "type": "request",
          "params": {
            "name": "个税计算-获取申报列表-接口",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/personalDeclare/queryDeclareList",
            "method": "GET",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "post_type": "json",
            "headers": null,
            "data": {"page":1,"per_page": 10,"condition": "[{\"f\":\"sdyf\",\"v\":\"202305\",\"op\":\"eq\",\"t\":\"s\"}]"}},
          "retry": {
            "interval": 15,
            "times":10,
            "jump":[
              {
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "data.0.sbZt",
                "condition": [{"gsmc": "{{COMPANY_NO}}/{{COMPANY_NAME}}"}],
                "func": "!=",
                "value_right": "1"
              }
            }
              ]

          },
          "handlers": [{
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            },{
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "data.0.sbZt",
                "condition": [{"gsmc": "{{COMPANY_NO}}/{{COMPANY_NAME}}"}],
                "func": "==",
                "value_right": "2"
              }
            }
          ]
        },
        {
          "name": "获取申报id",
          "desc": "申报列表页面-获取4月往期申报id",
          "type": "request",
          "params": {
            "name": "申报列表查询接口",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/personalDeclare/queryDeclareList",
            "method": "GET",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "post_type": "json",
            "headers": null,
            "data": {
              "page": 1,
              "per_page": 10,
              "condition": "[{\"f\":\"orgName\",\"v\":\"{{COMPANY_NAME}}\",\"op\":\"like\",\"t\":\"s\"},{\"f\":\"sdyf\",\"v\":\"202304\",\"op\":\"eq\",\"t\":\"s\"}]"
            }
          },
          "handlers": [
            {
              "type": "extract",
              "params": {
                "type": "json",
                "field": "shenbao_id",
                "path": "data.0.id",
                "condition": [
                  {
                    "gsmc": "{{COMPANY_NO}}/{{COMPANY_NAME}}"
                  }
                ]
              }
            },
            {
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            }
          ]
        },
        {
          "name": "申报尝试",
          "desc": "申报尝试，要保证申报成功",
          "type": "request",
          "params": {
            "name": "个税计算-申报",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/personalDeclare/declare",
            "method": "GET",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "post_type": "json",
            "headers": null,
            "data": {
              "ids": "{{shenbao_id}}"
            }
          },
          "handlers": [
            {
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            }
          ]
        },
        {
          "name": "个税计算-检验申报状态",
          "desc": "个税税友测试公司-检验申报状态",
          "type": "request",
          "params": {
            "name": "个税计算-获取申报列表-接口",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/personalDeclare/queryDeclareList",
            "method": "GET",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "post_type": "json",
            "headers": null,
            "data": {"page":1,"per_page": 10,"condition": "[{\"f\":\"sdyf\",\"v\":\"202305\",\"op\":\"eq\",\"t\":\"s\"}]"}},
          "retry": {
            "interval": 15,
            "times":10,
            "jump":[
              {
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "data.0.sbZt",
                "condition": [{"gsmc": "{{COMPANY_NO}}/{{COMPANY_NAME}}"}],
                "func": "!=",
                "value_right": "1"
              }
            }
              ]

          },
          "handlers": [{
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            },{
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "data.0.sbZt",
                "condition": [{"gsmc": "{{COMPANY_NO}}/{{COMPANY_NAME}}"}],
                "func": "==",
                "value_right": "2"
              }
            }
          ]
        },
        {
          "name": "作废申报",
          "desc": "作废往期申报",
          "type": "request",
          "params": {
            "name": "作废申报-接口",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/personalDeclare/cancel",
            "method": "GET",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "post_type": "json",
            "headers": null,
            "data": {
              "ids": "{{shenbao_id}}"
            }
          },
          "handlers": [
            {
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            }
          ]
        },
        {
          "name": "个税计算-检验作废申报状态",
          "desc": "个税税友测试公司-检验作废申报状态",
          "type": "request",
          "params": {
            "name": "个税计算-获取申报列表-接口",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/personalDeclare/queryDeclareList",
            "method": "GET",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "post_type": "json",
            "headers": null,
            "data": {"page":1,"per_page": 10,"condition": "[{\"f\":\"sdyf\",\"v\":\"202304\",\"op\":\"eq\",\"t\":\"s\"}]"}},
          "handlers": [{
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            },{
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "data.0.zfZt",
                "condition": [{"gsmc": "{{COMPANY_NO}}/{{COMPANY_NAME}}"}],
                "func": "==",
                "value_right": "3"
              }
            }
          ],
          "retry": {
            "interval": 15,
            "times":10,
            "jump":[
              {
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "data.0.zfZt",
                "condition": [{"gsmc": "{{COMPANY_NO}}/{{COMPANY_NAME}}"}],
                "func": "!=",
                "value_right": "1"
              }
            }
              ]

          }
        }
      ]
    },
    {
      "name": "异常校验场景自动化用例",
      "desc": "",
      "variable": {
        "COMPANY_NAME": "个税税友测试公司",
        "COMPANY_NUMBER": "91110188542620104H",
        "COMPANY_NO": "TEST03",
        "DJXH": "10117110188542620104"
      },
      "step": [
        {
          "name": "前台-账号登录",
          "desc": "使用登录插件，通过后台账号密码登录-并将test_cas_access_token，存储至全局变量；",
          "type": "plugIn",
          "params": {
            "params": {
              "pass_word": "{{PWD}}",
              "user_name": "{{USER_NAME}}",
              "cookies_field": "COOKIES"
            },
            "type": "login"
          },
          "handlers": []
        },
        {"name": "获取公司ID",
          "desc": "公司管理中-获取公司ID",
          "type": "request",
          "params": {
            "name": "公司管理中-获取公司ID",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/authapi/api/v1/tenantCompany/queryPage",
            "method": "GET",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "headers": null,
            "post_type": "json",
            "data": {"page":1,"per_page":10,"condition":"[{\"f\":\"companyName/companyAbbr/creditCode/outCompanyCode\",\"v\":\"{{COMPANY_NAME}}\",\"op\":\"like\",\"t\":\"s\"},{\"f\":\"isTestCp\",\"v\":\"N\",\"op\":\"like\",\"t\":\"s\"}]","sorttype":"desc","sortfield": ""}
          },
          "handlers": [
            {
              "type": "extract",
              "params": {
                "type": "json",
                "field": "orgId",
                "path": "data.0.orgId",
                "condition": [
                  {
                    "companyName": "{{COMPANY_NAME}}"
                  }
                ]
              }
            }
          ]
        },
        {
          "name": "个税信息列表页-获取公司id",
          "desc": "个税信息列表页-获取公司id",
          "type": "request",
          "params": {
            "name": "个税信息列表页-查询接口",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/personalTax/queryPtMessage",
            "method": "GET",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "post_type": "json",
            "headers": null,
            "data": {"orgId":"{{orgId}}"}
        }, "handlers": [
            {
              "type": "extract",
              "params": {
                "type": "json",
                "field": "comId",
                "path": "data.id",
                "condition": [
                  {
                    "companyName": "{{COMPANY_NAME}}"
                  }
                ]
              }
            }
          ]
},
        {
          "name": "获取申报id",
          "desc": "申报列表页面-获取申报id",
          "type": "request",
          "params": {
            "name": "申报列表查询接口",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/personalDeclare/queryDeclareList",
            "method": "GET",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "post_type": "json",
            "headers": null,
            "data": {
              "page": 1,
              "per_page": 10,
              "condition": "[{\"f\":\"orgName\",\"v\":\"{{COMPANY_NAME}}\",\"op\":\"like\",\"t\":\"s\"},{\"f\":\"sdyf\",\"v\":\"202305\",\"op\":\"eq\",\"t\":\"s\"}]"
            }
          },
          "handlers": [
            {
              "type": "extract",
              "params": {
                "type": "json",
                "field": "shenbao_id",
                "path": "data.0.id",
                "condition": [
                  {
                    "gsmc": "{{COMPANY_NO}}/{{COMPANY_NAME}}"
                  }
                ]
              }
            },
            {
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            }
          ]
        },
        {
          "name": "保存申报密码",
          "desc": "恢复申报密码",
          "type": "request",
          "params": {
            "name": "恢复申报密码",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/personalTax/savePtRegistMsg",
            "method": "POST",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "post_type": "json",
            "headers": null,
            "data": {"provinceAddr":"110000","cityAddr":"110100","countyAddr":"","pwdType":"0","declarePwd":"Aa123456","realAccount":"","realPwd":"","id":"{{comId}}","orgId":"{{orgId}}","djxhid":"{{DJXH}}"}

        },"handlers": []},
        {
          "name": "获取公司baseId",
          "desc": "获取公司baseId",
          "type": "request",
          "params": {
            "name": "公司管理列表-接口",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/authapi/api/v1/tenantCompany/queryPage",
            "method": "GET",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "headers": null,
            "post_type": "json",
            "data": {
              "page": 1,
              "per_page": 10,
              "sorttype": "desc",
              "condition": "[{\"f\":\"companyName/companyAbbr/creditCode/outCompanyCode\",\"v\":\"{{COMPANY_NAME}}\",\"op\":\"like\",\"t\":\"s\"},{\"f\":\"isTestCp\",\"v\":\"N\",\"op\":\"like\",\"t\":\"s\"}]"}},
            "handlers": [{
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            },
            {
              "type": "extract",
              "params": {
                "type": "json",
                "field": "YWR_ID",
                "path": "data.0.orgId",
                "condition": [
                  {
                    "companyName": "{{COMPANY_NAME}}"
                  }
                ]
              }
            }
          ]
        },
        {
          "name": "获取新增员工所用id",
          "desc": "获取新增员工所用id",
          "type": "request",
          "params": {
            "name": "公司员工列表-接口",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/permission/getBaseList",
            "method": "GET",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "headers": null,
            "post_type": "json",
            "data": {
              "page": 1,
              "per_page": 10,
              "condition": "[{\"f\":\"orgName\",\"v\":\"{{COMPANY_NAME}}\",\"op\":\"like\",\"t\":\"s\"}]",
              "id": "{{YWR_ID}}"}},
            "handlers": [{
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            },
            {
              "type": "extract",
              "params": {
                "type": "json",
                "field": "YWR_ID",
                "path": "data.0.id",
                "condition": [
                  {
                    "orgName": "{{COMPANY_NAME}}"
                  }
                ]
              }
            }
          ]
        },
        {
          "name": "清除数据-获取人员id",
          "desc": "清除数据-获取人员id",
          "type": "request",
          "params": {
            "name": "员工列表-接口",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/personalManage/personalList",
            "method": "GET",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "headers": null,
            "post_type": "json",
            "data": {"page": 1,"per_page": 10,"condition": "[{\"f\":\"baseId\",\"v\":{{YWR_ID}},\"op\":\"like\",\"t\":\"s\"},{\"f\":\"rydq\",\"v\":\"境内\",\"op\":\"like\",\"t\":\"s\"}]","baseId": "{{YWR_ID}}"}
          },
          "handlers": [{
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            },{
              "type": "extract",
              "params": {
                "type": "json",
                "field": "per_id",
                "path": "data.0.id",
                "condition": [
                  {
                    "xm": "测试异常场景"
                  }
                ]
              }
            }
          ]
        },
        {"name": "编辑员工信息",
          "desc": "编辑员工信息",
          "type": "request",
          "params": {
            "name": "编辑员工信息-接口",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/personalManage/savePersonal",
            "method": "POST",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "headers": null,
            "post_type": "json",
            "data": {"zzlx":"居民身份证","zzhm":"140321198809181324","xm":"测试异常场景","gj":"中国","xb":"女","xl":"","csny":"1988-09-18","sfcj":"否","sfls":"否","sfgl":"否","cjzh":"","lszh":"","ryNsrsbh":"140321198809181324","bz":"","lxdh":"18811122222","dzyx":"","lxdzSheng":"","lxdzShi":"","lxdzQx":"","lxdzJd":"","lxdz":"","wjrlxdzSheng":"","wjrlxdzShi":"","wjrlxdzQx":"","wjrlxdzJd":"","wjrlxdzXxdz":"","hjszdSheng":"","hjszdShi":"","hjszdQx":"","hjszdJd":"","hjszdXxdz":"","khyh":"","khyhsfmz":"","yhzh":"","jzLocation":[],"hjLocation":[],"lxLocation":[],"nsrzt":"非正常","sfgy":"雇员","rzsgrq":"2023-02-08","lzrq":"2023-02-09","sfzdw":"是","rzndjyqk":"","gh":"","grgbze":"0","grgbbl":"0","id":"{{per_id}}","baseId":"{{YWR_ID}}","rydq":"境内","bszt":"1"}
          },
          "handlers": [{
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            }
          ]},
        {
          "name": "申报尝试",
          "desc": "申报尝试",
          "type": "request",
          "params": {
            "name": "个税计算-申报",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/personalDeclare/declare",
            "method": "GET",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "post_type": "json",
            "headers": null,
            "data": {
              "ids": "{{shenbao_id}}"
            }
          },
          "handlers": [
            {
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            }
          ]
        },
        {
          "name": "校验申报失败",
          "desc": "申报列表页面-校验申报失败",
          "type": "request",
          "params": {
            "name": "申报列表查询接口",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/personalDeclare/queryDeclareList",
            "method": "GET",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "post_type": "json",
            "headers": null,
            "data": {
              "page": 1,
              "per_page": 10,
              "condition": "[{\"f\":\"orgName\",\"v\":\"{{COMPANY_NAME}}\",\"op\":\"like\",\"t\":\"s\"},{\"f\":\"sdyf\",\"v\":\"202305\",\"op\":\"eq\",\"t\":\"s\"}]"
            }
          },
          "handlers": [
            {
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "data.0.sbZt",
                "condition": [
                  {"gsmc": "{{COMPANY_NO}}/{{COMPANY_NAME}}"}
                ],
                "func": "==",
                "value_right": "2"
              }
            }
          ],
          "retry": {
            "interval": 15,
            "times":10,
            "jump":[
              {
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "data.0.sbZt",
                "condition": [{"gsmc": "{{COMPANY_NO}}/{{COMPANY_NAME}}"}],
                "func": "!=",
                "value_right": "1"
              }
            }
              ]

          }
        },
        {"name": "编辑员工信息",
          "desc": "编辑员工信息",
          "type": "request",
          "params": {
            "name": "编辑员工信息-接口",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/personalManage/savePersonal",
            "method": "POST",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "headers": null,
            "post_type": "json",
            "data": {"zzlx":"居民身份证","zzhm":"140321198809181324","xm":"测试异常场景","gj":"中国","xb":"女","xl":"","csny":"1988-09-18","sfcj":"否","sfls":"否","sfgl":"否","cjzh":"","lszh":"","ryNsrsbh":"140321198809181324","bz":"","lxdh":"18811111222","dzyx":"","lxdzSheng":"","lxdzShi":"","lxdzQx":"","lxdzJd":"","lxdz":"","wjrlxdzSheng":"","wjrlxdzShi":"","wjrlxdzQx":"","wjrlxdzJd":"","wjrlxdzXxdz":"","hjszdSheng":"","hjszdShi":"","hjszdQx":"","hjszdJd":"","hjszdXxdz":"","khyh":"","khyhsfmz":"","yhzh":"","jzLocation":[],"hjLocation":[],"lxLocation":[],"nsrzt":"非正常","sfgy":"雇员","rzsgrq":"2023-02-08","lzrq":"2023-02-09","sfzdw":"是","rzndjyqk":"","gh":"","grgbze":"0","grgbbl":"0","id":"{{per_id}}","baseId":"{{YWR_ID}}","rydq":"境内","bszt":"1"}
          },
          "handlers": [{
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            }
          ]},
        {
          "name": "员工报送",
          "desc": "个税自动化测试公司-员工报送",
          "type": "request",
          "params": {
            "name": "员工报送-接口",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/personalSumbit/toSubmit",
            "method": "GET",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "post_type": "json",
            "headers": null,
            "data": {"condition":"[]","ids":"{{YWR_ID}}"}},
          "handlers": [{
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            }],
          "sleep": 20
        }
      ]
    }
 ,
    {
      "name": "添加员工后报送",
      "desc": "",
      "variable": {
        "COMPANY_NAME": "代扣代缴自动化测试股份有限公司",
        "COMPANY_NUMBER": "91440605MAC0UNRL92",
        "COMPANY_NO": "TEST01"
      },
      "step": [
        {
          "name": "前台-账号登录",
          "desc": "使用登录插件，通过后台账号密码登录-并将test_cas_access_token，存储至全局变量；",
          "type": "plugIn",
          "params": {
            "params": {
              "pass_word": "{{PWD}}",
              "user_name": "{{USER_NAME}}",
              "cookies_field": "COOKIES"
            },
            "type": "login"
          },
          "handlers": []
        },
        {
          "name": "获取公司baseId",
          "desc": "获取公司baseId",
          "type": "request",
          "params": {
            "name": "公司管理列表-接口",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/authapi/api/v1/tenantCompany/queryPage",
            "method": "GET",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "headers": null,
            "post_type": "json",
            "data": {
              "page": 1,
              "per_page": 10,
              "sorttype": "desc",
              "condition": "[{\"f\":\"companyName/companyAbbr/creditCode/outCompanyCode\",\"v\":\"代扣代缴自动化测试股份有限公司\",\"op\":\"like\",\"t\":\"s\"},{\"f\":\"isTestCp\",\"v\":\"N\",\"op\":\"like\",\"t\":\"s\"}]"}},
            "handlers": [{
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            },
            {
              "type": "extract",
              "params": {
                "type": "json",
                "field": "YWR_ID",
                "path": "data.0.orgId",
                "condition": [
                  {
                    "companyName": "{{COMPANY_NAME}}"
                  }
                ]
              }
            }
          ]
        },{
          "name": "获取新增员工所用id",
          "desc": "获取新增员工所用id",
          "type": "request",
          "params": {
            "name": "公司员工列表-接口",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/permission/getBaseList",
            "method": "GET",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "headers": null,
            "post_type": "json",
            "data": {
              "page": 1,
              "per_page": 10,
              "condition": "[{\"f\":\"orgName\",\"v\":\"代扣代缴自动化测试股份有限公司\",\"op\":\"like\",\"t\":\"s\"}]",
              "id": "{{YWR_ID}}"}},
            "handlers": [{
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            },
            {
              "type": "extract",
              "params": {
                "type": "json",
                "field": "YWR_ID",
                "path": "data.0.id",
                "condition": [
                  {
                    "orgName": "{{COMPANY_NAME}}"
                  }
                ]
              }
            }
          ]
        },{
          "name": "清除数据-获取人员id",
          "desc": "清除数据-获取人员id",
          "type": "request",
          "params": {
            "name": "员工列表-接口",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/personalManage/personalList",
            "method": "GET",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "headers": null,
            "post_type": "json",
            "data": {"page": 1,"per_page": 10,"condition": "[{\"f\":\"baseId\",\"v\":{{YWR_ID}},\"op\":\"like\",\"t\":\"s\"},{\"f\":\"rydq\",\"v\":\"境内\",\"op\":\"like\",\"t\":\"s\"}]","baseId": "{{YWR_ID}}"}
          },
          "handlers": [{
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            },{
              "type": "extract",
              "params": {
                "type": "json",
                "field": "per_id",
                "path": "data.0.id",
                "condition": [
                  {
                    "xm": "测试重新报送"
                  }
                ]
              }
            }
          ]
        },
        {
          "name": "清除数据-删除员工",
          "desc": "清除数据-删除员工",
          "type": "request",
          "params": {
            "name": "删除员工-接口",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/personalManage/delPersonal",
            "method": "DELETE",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "headers": null,
            "post_type": "json",
            "data": {"ids":"{{per_id}}"}
          },
          "handlers": [
            {
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "code",
                "condition": [],
                "func": "==",
                "value_right":200
              }
            }
          ]

        },
        {"name": "新增员工",
          "desc": "新增员工",
          "type": "request",
          "params": {
            "name": "新增员工-接口",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/personalManage/savePersonal",
            "method": "POST",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "headers": null,
            "post_type": "json",
            "data": {"zzlx":"居民身份证","zzhm":"140302199605021914","xm":"测试重新报送","gj":"中国","xb":"男","xl":"","csny":"1996-05-02","sfcj":"否","sfls":"否","sfgl":"否","cjzh":"","lszh":"","ryNsrsbh":"","bz":"","lxdh":"18811996606","dzyx":"","jzLocation":[],"lxdzSheng":"","lxdzShi":"","lxdzQx":"","lxdzJd":"","lxdz":"","lxLocation":[],"wjrlxdzSheng":"","wjrlxdzShi":"","wjrlxdzQx":"","wjrlxdzJd":"","wjrlxdzXxdz":"","hjLocation":[],"hjszdSheng":"","hjszdShi":"","hjszdQx":"","hjszdJd":"","hjszdXxdz":"","khyh":"","khyhsfmz":"","yhzh":"","nsrzt":"非正常","sfgy":"雇员","rzsgrq":"2021-07-09","lzrq":"2022-07-09","sfzdw":"是","rzndjyqk":"","gh":"","grgbze":0,"grgbbl":0,"id":"","baseId":"{{YWR_ID}}","rydq":"境内","bszt":""}
          },
          "handlers": [{
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            }
          ],
          "sleep": 5
        },
        {"name": "待报送扣缴义务人查询",
          "desc": "待报送扣缴义务人查询",
          "type": "request",
          "params": {
            "name": "查询-接口",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/personalSumbit/getSubmitList",
            "method": "GET",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "headers": null,
            "post_type": "json",
            "data": {"page":1,"per_page":10,"condition":"[{\"f\":\"sdyf\",\"v\":\"202307\",\"op\":\"eq\",\"t\":\"s\"}]","rybszt":0}
          },
          "handlers": [{
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            },
            {
              "type": "extract",
              "params": {
                "type": "json",
                "field": "YWR_ID",
                "path": "data.0.id",
                "condition": [
                  {
                    "gsmc": "TEST01/代扣代缴自动化测试股份有限公司"
                  }
                ]
              }
            }
          ]},
        {
          "name": "员工报送",
          "desc": "代扣代缴自动化测试股份有限公司-员工报送",
          "type": "request",
          "params": {
            "name": "员工报送-接口",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/personalSumbit/toSubmit",
            "method": "GET",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "post_type": "json",
            "headers": null,
            "data": {"condition":"[]","ids":"{{YWR_ID}}"}},
          "handlers": [{
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            }]
        },{
          "name": "查看-员工报送中是否有数据",
          "desc": "查看-员工报送中是否有数据",
          "type": "request",
          "params": {
            "name": "员工报送-接口",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/personalSumbit/getSubmitList",
            "method": "GET",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "post_type": "json",
            "headers": null,
            "data": {"page":1,"per_page":10,"condition":"[{\"f\":\"sdyf\",\"v\":\"202307\",\"op\":\"eq\",\"t\":\"s\"}]","rybszt": "1"}},
          "handlers": [{
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }},
            {
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "data.0.id",
                "condition": [{"gsmc":"{{COMPANY_NO}}/{{COMPANY_NAME}}" }],
                "func": "==",
                "value_right": null
            }
            }],
          "retry": {
            "interval": 30,
            "times":6,
            "jump":[

              ]

          }
        }
      ]
    },
    {
      "name": "编辑员工后报送",
      "desc": "",
      "variable": {
        "COMPANY_NAME": "代扣代缴自动化测试股份有限公司",
        "COMPANY_NUMBER": "91440605MAC0UNRL92",
        "COMPANY_NO": "TEST01"
      },
      "step": [

        {
          "name": "前台-账号登录",
          "desc": "使用登录插件，通过后台账号密码登录-并将test_cas_access_token，存储至全局变量；",
          "type": "plugIn",
          "params": {
            "params": {
              "pass_word": "{{PWD}}",
              "user_name": "{{USER_NAME}}",
              "cookies_field": "COOKIES"
            },
            "type": "login"
          },
          "handlers": []
        },
        {
          "name": "获取公司baseId",
          "desc": "获取公司baseId",
          "type": "request",
          "params": {
            "name": "公司管理列表-接口",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/authapi/api/v1/tenantCompany/queryPage",
            "method": "GET",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "headers": null,
            "post_type": "json",
            "data": {
              "page": 1,
              "per_page": 10,
              "sorttype": "desc",
              "condition": "[{\"f\":\"companyName/companyAbbr/creditCode/outCompanyCode\",\"v\":\"代扣代缴自动化测试股份有限公司\",\"op\":\"like\",\"t\":\"s\"},{\"f\":\"isTestCp\",\"v\":\"N\",\"op\":\"like\",\"t\":\"s\"}]"}},
            "handlers": [{
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            },
            {
              "type": "extract",
              "params": {
                "type": "json",
                "field": "YWR_ID",
                "path": "data.0.orgId",
                "condition": [
                  {
                    "companyName": "{{COMPANY_NAME}}"
                  }
                ]
              }
            }
          ]
        },{
          "name": "获取新增员工所用id",
          "desc": "获取新增员工所用id",
          "type": "request",
          "params": {
            "name": "公司员工列表-接口",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/permission/getBaseList",
            "method": "GET",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "headers": null,
            "post_type": "json",
            "data": {
              "page": 1,
              "per_page": 10,
              "condition": "[{\"f\":\"orgName\",\"v\":\"代扣代缴自动化测试股份有限公司\",\"op\":\"like\",\"t\":\"s\"}]",
              "id": "{{YWR_ID}}"}},
            "handlers": [{
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            },
            {
              "type": "extract",
              "params": {
                "type": "json",
                "field": "YWR_ID",
                "path": "data.0.id",
                "condition": [
                  {
                    "orgName": "{{COMPANY_NAME}}"
                  }
                ]
              }
            }
          ]
        },
        {
          "name": "清除数据-获取人员id",
          "desc": "清除数据-获取人员id",
          "type": "request",
          "params": {
            "name": "员工列表-接口",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/personalManage/personalList",
            "method": "GET",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "headers": null,
            "post_type": "json",
            "data": {"page": 1,"per_page": 10,"condition": "[{\"f\":\"baseId\",\"v\":{{YWR_ID}},\"op\":\"like\",\"t\":\"s\"},{\"f\":\"rydq\",\"v\":\"境内\",\"op\":\"like\",\"t\":\"s\"}]","baseId": "{{YWR_ID}}"}
          },
          "handlers": [{
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            },{
              "type": "extract",
              "params": {
                "type": "json",
                "field": "per_id",
                "path": "data.0.id",
                "condition": [
                  {
                    "xm": "测试重新报送"
                  }
                ]
              }
            }
          ],"sleep": 10
        },
        {
                        "name": "随机字符串插件",
                        "desc": "随机字符串插件",
                        "type": "plugIn",
                        "params": {
                            "type": "random",
                            "params": {
                                "random_type": "int",
                                "length": 10,
                                "get_field": "PHONE"
                            }
                        },
                        "handlers": []
                    },
        {"name": "编辑员工信息",
          "desc": "编辑员工信息",
          "type": "request",
          "params": {
            "name": "编辑员工信息-接口",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/personalManage/savePersonal",
            "method": "POST",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "headers": null,
            "post_type": "json",
            "data": {"zzlx":"居民身份证","zzhm":"140302199605021914","xm":"测试重新报送","gj":"中国","xb":"男","xl":"","csny":"1996-05-02","sfcj":"否","sfls":"否","sfgl":"否","cjzh":"","lszh":"","ryNsrsbh":"140302199605021914","bz":"","lxdh":"1{{PHONE}}","dzyx":"","lxdzSheng":"","lxdzShi":"","lxdzQx":"","lxdzJd":"","lxdz":"","wjrlxdzSheng":"","wjrlxdzShi":"","wjrlxdzQx":"","wjrlxdzJd":"","wjrlxdzXxdz":"","hjszdSheng":"","hjszdShi":"","hjszdQx":"","hjszdJd":"","hjszdXxdz":"","khyh":"","khyhsfmz":"","yhzh":"","jzLocation":[],"hjLocation":[],"lxLocation":[],"nsrzt":"非正常","sfgy":"雇员","rzsgrq":"2021-07-09","lzrq":"2022-07-09","sfzdw":"是","rzndjyqk":"","gh":"","grgbze":"0","grgbbl":"0","id":"{{per_id}}","baseId":"{{YWR_ID}}","rydq":"境内","bszt":""}
          },
          "handlers": [{
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            }
          ],
        "sleep": 5},
        {"name": "待报送扣缴义务人查询",
          "desc": "待报送扣缴义务人查询",
          "type": "request",
          "params": {
            "name": "员工报送-接口",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/personalSumbit/getSubmitList",
            "method": "GET",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "headers": null,
            "post_type": "json",
            "data": {"page":1,"per_page":10,"condition":"[{\"f\":\"sdyf\",\"v\":\"202307\",\"op\":\"eq\",\"t\":\"s\"}]","rybszt":0}
          },
          "handlers": [
            {
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            },
            {
              "type": "extract",
              "params": {
                "type": "json",
                "field": "YWR_ID",
                "path": "data.0.id",
                "condition": [
                  {
                    "gsmc": "TEST01/代扣代缴自动化测试股份有限公司"
                  }
                ]
              }
            }
          ]},
        {
          "name": "员工报送",
          "desc": "代扣代缴自动化测试股份有限公司-员工报送",
          "type": "request",
          "params": {
            "name": "员工报送-接口",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/personalSumbit/toSubmit",
            "method": "GET",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "post_type": "json",
            "headers": null,
            "data": {"condition":"[]","ids":"{{YWR_ID}}"}},
          "handlers": [{
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            }]
        },
        {
          "name": "查看-员工报送中是否有数据",
          "desc": "查看-员工报送中是否有数据",
          "type": "request",
          "params": {
            "name": "员工报送-接口",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/personalSumbit/getSubmitList",
            "method": "GET",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "post_type": "json",
            "headers": null,
            "data": {"page":1,"per_page":10,"condition":"[{\"f\":\"sdyf\",\"v\":\"202307\",\"op\":\"eq\",\"t\":\"s\"}]","rybszt": "1"}},
          "handlers": [{
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }},
            {
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "data.0.id",
                "condition": [{"gsmc":"{{COMPANY_NO}}/{{COMPANY_NAME}}" }],
                "func": "==",
                "value_right": null
            }
            }],
          "retry": {
            "interval": 30,
            "times":6,
            "jump":[]
          }
        }
      ]
    },
    {
      "name": "个税-税务登记信息获取",
      "desc": "",
      "variable": {
        "COMPANY_NAME": "代扣代缴自动化测试股份有限公司",
        "COMPANY_NUMBER": "91140188029581508S",
        "DJXH": "10117140188029581508"
      },
      "step": [
        {
          "name": "前台-账号登录",
          "desc": "使用登录插件，通过后台账号密码登录-并将test_cas_access_token，存储至全局变量；",
          "type": "plugIn",
          "params": {
            "params": {
              "pass_word": "{{PWD}}",
              "user_name": "{{USER_NAME}}",
              "cookies_field": "COOKIES"
            },
            "type": "login"
          },
          "handlers": []
        },
        {"name": "获取公司ID",
          "desc": "公司管理中-获取公司ID",
          "type": "request",
          "params": {
            "name": "公司管理中-获取公司ID",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/authapi/api/v1/tenantCompany/queryPage",
            "method": "GET",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "headers": null,
            "post_type": "json",
            "data": {"page":1,"per_page":10,"condition":"[{\"f\":\"companyName/companyAbbr/creditCode/outCompanyCode\",\"v\":\"{{COMPANY_NAME}}\",\"op\":\"like\",\"t\":\"s\"},{\"f\":\"isTestCp\",\"v\":\"N\",\"op\":\"like\",\"t\":\"s\"}]","sorttype":"desc","sortfield": ""}
          },
          "handlers": [
            {
              "type": "extract",
              "params": {
                "type": "json",
                "field": "orgId",
                "path": "data.0.orgId",
                "condition": [
                  {
                    "companyName": "代扣代缴自动化测试股份有限公司"
                  }
                ]
              }
            }
          ]
        },
        {
          "name": "个税信息列表页-获取公司id",
          "desc": "个税信息列表页-获取公司id",
          "type": "request",
          "params": {
            "name": "个税信息列表页-查询接口",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/personalTax/queryPtMessage",
            "method": "GET",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "post_type": "json",
            "headers": null,
            "data": {"orgId":"{{orgId}}"}
        }, "handlers": [
            {
              "type": "extract",
              "params": {
                "type": "json",
                "field": "comId",
                "path": "data.id",
                "condition": [
                  {
                    "companyName": "代扣代缴自动化测试股份有限公司"
                  }
                ]
              }
            }
          ]
},
        {
          "name": "获取税务登记信息",
          "desc": "获取税务登记信息",
          "type": "request",
          "params": {
            "name": "获取税务登记信息",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/personalTax/getPtRegistMsgList",
            "method": "GET",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "post_type": "json",
            "headers": null,
            "data": {"id":"{{comId}}"}

        },"handlers": [
          {
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            }
        ]},
        {
          "name": "检验申报密码",
          "desc": "检验申报密码",
          "type": "request",
          "params": {
            "name": "检验申报密码",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/personalTax/checkPw",
            "method": "GET",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "post_type": "json",
            "headers": null,
            "data": {"condition":"[{\"f\":\"pwdType\",\"v\":\"0\",\"op\":\"like\",\"t\":\"s\"},{\"f\":\"declarePwd\",\"v\":\"Aa123456\",\"op\":\"get,ge\",\"t\":\"s\"},{\"f\":\"realAccount\",\"v\":\"\",\"op\":\"let,le\",\"t\":\"s\"},{\"f\":\"realPwd\",\"v\":\"\",\"op\":\"like\",\"t\":\"s\"},{\"f\":\"djxhid\",\"v\":\"{{DJXH}}\",\"op\":\"like\",\"t\":\"s\"},{\"f\":\"taxArea\",\"v\":\"140100\",\"op\":\"like\",\"t\":\"s\"},{\"f\":\"qymc\",\"v\":\"{{COMPANY_NAME}}\",\"op\":\"like\",\"t\":\"s\"},{\"f\":\"nsrsbm\",\"v\":\"{{COMPANY_NUMBER}}\",\"op\":\"like\",\"t\":\"s\"}]"}

        },"handlers": [
          {
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "infos",
                "condition": [],
                "func": "==",
                "value_right": "密码正确验证成功"
              }
            }
        ]}

      ]
    },
    {
      "name": "附表规则维护场景自动化",
      "desc": "",
      "variable": {
        "COMPANY_NAME": "个税税友测试公司",
        "COMPANY_NUMBER": "91110188542620104H",
        "COMPANY_NO": "TEST03",
        "DJXH": "10117110188542620104"
      },
      "step": [
        {
          "name": "前台-账号登录",
          "desc": "使用登录插件，通过后台账号密码登录-并将test_cas_access_token，存储至全局变量；",
          "type": "plugIn",
          "params": {
            "params": {
              "pass_word": "{{PWD}}",
              "user_name": "{{USER_NAME}}",
              "cookies_field": "COOKIES"
            },
            "type": "login"
          },
          "handlers": []
        },
        {
          "name": "获取公司baseId",
          "desc": "获取公司baseId",
          "type": "request",
          "params": {
            "name": "公司管理列表-接口",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/personalReport/getPending?",
            "method": "GET",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "headers": null,
            "post_type": "json",
            "data": {}
          },
          "handlers": [
            {
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            },
            {
              "type": "extract",
              "params": {
                "type": "json",
                "field": "YWR_ID",
                "path": "data.0.id",
                "condition": [
                  {
                    "qymc": "{{COMPANY_NAME}}"
                  }
                ]
              }
            }
          ]
        },
        {
          "name": "删除附表信息",
          "desc": "删除附表信息",
          "type": "request",
          "params": {
            "name": "删除附表信息-接口",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/jmpz/listData",
            "method": "GET",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "headers": null,
            "post_type": "json",
            "data": {
              "page": 1,
              "per_page": 10,
              "condition": "[]"
            }
          },
          "handlers": [
            {
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            },{
              "type": "extract",
              "params": {
                "type": "json",
                "field": "FB_ID",
                "path": "data.0.id",
                "condition": [
                  {
                    "ygxm": "陈大同",
                    "sdfl": "综合所得"
                  }
                ]
              }
            }

          ]
        },{
          "name": "删除附表信息-获取附表id",
          "desc": "删除附表信息-获取附表id",
          "type": "request",
          "params": {
            "name": "删除附表信息-获取附表id-接口",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/jmpz/listData",
            "method": "GET",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "headers": null,
            "post_type": "json",
            "data": {
              "page": 1,
              "per_page": 10,
              "condition": "[]"
            }
          },
          "handlers": [
            {
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            },{
              "type": "extract",
              "params": {
                "type": "json",
                "field": "FB_ID",
                "path": "data.0.id",
                "condition": [
                  {
                    "ygxm": "陈大同",
                    "sdfl": "综合所得"
                  }
                ]
              }
            }

          ]
        },{
          "name": "删除附表信息",
          "desc": "删除附表信息",
          "type": "request",
          "params": {
            "name": "删除附表信息-接口",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/jmpz/deleteData",
            "method": "GET",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "headers": null,
            "post_type": "json",
            "data": {
              "ids": "{{FB_ID}}"
            }
          },
          "handlers": [
          ]
        },
        {
          "name": "添加附表信息",
          "desc": "添加附表信息",
          "type": "request",
          "params": {
            "name": "添加附表信息-接口",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/jmpz/saveData",
            "method": "POST",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "headers": null,
            "post_type": "json",
            "data": {
              "baseId": "{{YWR_ID}}",
              "djxh": "{{DJXH}}",
              "ygxm": "陈大同",
              "zjlx": "居民身份证",
              "zjhm": "140211199109181987",
              "sdfl": "综合所得",
              "sdxm": "正常工资薪金",
              "jmfs": "减免税额",
              "jmxs": "比例减征",
              "jmbl": "0.50",
              "jmsx": "其他自然灾害受灾减免个人所得税",
              "jmxz": "《中华人民共和国个人所得税法》 中华人民共和国主席令第48号第五条第二项",
              "mssr": ""
            }
          },
          "handlers": [
            {
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            }
          ]
        },
        {
          "name": "个税计算-获取report_id",
          "desc": "代扣代缴自动化测试股份有限公司-个税计算-获取report_id",
          "type": "request",
          "params": {
            "name": "个税计算-获取report_id",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/personalReport/queryPtReportList",
            "method": "GET",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "post_type": "json",
            "headers": null,
            "data": {
              "page": 1,
              "per_page": 10,
              "condition": "[{\"f\":\"sdyf\",\"v\":\"202305\",\"op\":\"eq\",\"t\":\"s\"}]"
            }
          },
          "handlers": [
            {
              "type": "extract",
              "params": {
                "type": "json",
                "field": "REPORT_ID",
                "path": "data.0.id",
                "condition": [
                  {
                    "gsmc": "{{COMPANY_NO}}/{{COMPANY_NAME}}",
                    "reportType": "1"
                  }
                ]
              }
            },
            {
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            }
          ]
        },
        {
          "name": "个税计算-上传正常薪金文件",
          "desc": "个税计算-上传正常薪金文件",
          "type": "request",
          "params": {
            "name": "个税计算-上传正常薪金文件",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/personalCalc/uploadSalaryScale",
            "method": "POST",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "post_type": "upload",
            "headers": null,
            "data": {
              "params": [
                [
                  "fxyf",
                  "202305"
                ],
                [
                  "sdxm",
                  "1001"
                ],
                [
                  "reportId",
                  "{{REPORT_ID}}"
                ]
              ],
              "file_id": 4,
              "file_fields": "upload",
              "file_type": "application/vnd.ms-excel"
            }
          },
          "handlers": [
          ]
        },
        {
          "name": "个税计算-查看计算状态",
          "desc": "代扣代缴自动化测试股份有限公司-个税计算-核对计算结果",
          "type": "request",
          "params": {
            "name": "个税计算-列表查询-接口",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/personalReport/queryPtReportList",
            "method": "GET",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "post_type": "json",
            "headers": null,
            "data": {"page":1,"per_page": 10,"condition": "[{\"f\":\"sdyf\",\"v\":\"202305\",\"op\":\"eq\",\"t\":\"s\"},{\"f\":\"jsZt\",\"v\":\"1\",\"op\":\"eq\",\"t\":\"s\"}]"}},
          "handlers": [{
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            },
            {
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "data.0.jsZt",
                "condition": [],
                "func": "==",
                "value_right": null
              }
            }
          ],
          "retry": {
            "interval": 15,
            "times":10,
            "jump":[
              ]
          }
        },
        {
          "name": "个税计算-查看计算状态",
          "desc": "个税税友测试公司-个税计算-核对计算结果",
          "type": "request",
          "params": {
            "name": "个税计算-列表查询-接口",
            "desc": "",
            "host": "{{TEST_HOST}}",
            "path": "/persontax-web/api/v1/personalReport/queryPtReportList",
            "method": "GET",
            "cookies": {
              "test_cas_access_token": "{{COOKIES}}"
            },
            "response_type": "json",
            "post_type": "json",
            "headers": null,
            "data": {
              "page": 1,
              "per_page": 10,
              "condition": "[{\"f\":\"sdyf\",\"v\":\"202305\",\"op\":\"eq\",\"t\":\"s\"}]"
            }
          },
          "handlers": [
            {
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "result",
                "condition": [],
                "func": "==",
                "value_right": "success"
              }
            },
            {
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "data.0.jsZt",
                "condition": [
                  {
                    "gsmc": "{{COMPANY_NO}}/{{COMPANY_NAME}}",
                    "reportType": "1"
                  }
                ],
                "func": "==",
                "value_right": "2"
              }
            },
            {
              "type": "ext_asserts",
              "params": {
                "type": "json",
                "path": "data.0.ybtse",
                "condition": [
                  {
                    "gsmc": "{{COMPANY_NO}}/{{COMPANY_NAME}}",
                    "reportType": "1"
                  }
                ],
                "func": "==",
                "value_right": "400.47"
              }
            }
          ],
          "retry": {
            "interval": 15,
            "times": 10,
            "jump": [
              {
                "type": "ext_asserts",
                "params": {
                  "type": "json",
                  "path": "data.0.jsZt",
                  "condition": [
                    {
                      "gsmc": "{{COMPANY_NO}}/{{COMPANY_NAME}}",
                      "reportType": "1"
                    }
                  ],
                  "func": "!=",
                  "value_right": "1"
                }
              }
            ]
          }
        }
      ]
    }
  ]
}